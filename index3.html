<!DOCTYPE html>
<html>
<head>
    <title>Dynamically Create ul and li with jQuery</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>

    <style>
        ul {
            list-style:none;
            padding:0px;
            margin:0px;
        }
        ul li {
            display:block;
            position:relative;
            float:left;
            border:none;
        }
        li ul {
            display:none;
        }
        ul li a {
            display:block;
            font-family:Verdana;
            font-size:15px;
            transition:all linear 0.2s;
            background:#000;
            padding:5px 10px;
            text-decoration:none;
            white-space:nowrap;
            color:#FFF;
            background:#909EAB;
        }
        ul li a:hover {
            background:#4B545F;
        }
        li:hover ul {
            display:block;
            position:absolute;
        }
        li:hover li {
            float:none;
        }
        li:hover a {
            background:#5F6975;
        }
        li:hover li a:hover {
            background:#4B545F;
        }
    </style>
</head>

<body><div class="form-group">
        <label>Team:</label>
        <select class="form-control form-control-select2" id="url" data-fouc onchange="fun()">
            <optgroup  id="dropdownState">
                <option >Select</option> 
                <!-- <option>50314861</option>
                <option>50237167</option>
                <option>50241388</option>  -->
            </optgroup>
        </select>
    </div>
    <!-- <ul id="dropdownState">
        Team
    </ul> -->
    <!-- <li id="mylitag"></li> -->
</body>

<script>

$(document).ready(function() {  
        $.ajax({  
            url: 'https://cricketapi.platform.iplt20.com/teams',  
           
            type: 'GET',  
              
            dataType: 'json',  
       
            success: function(data1, textStatus, xhr) {  
              
                console.log(data1);  
              b=data1;
            //   console.log(b['content']);
              
            //   console.log(a['stats']['content'][0]['player']['id']);
              
            // //   stats.content[""0""].player.id
                for(var i = 0;i<b['content'].length;i++){
                  
                   $(".add-row").ready(function(){
                        var id = b['content'][i]['id'];
                        var abbreviation = b['content'][i]['abbreviation'];
                        // console.log(abbreviation);
                        
                        var fullName = b['content'][i]['fullName'];

                        var markup1 = "<tr><td>"+id+"</td><td>"+abbreviation+"</td><td>"+fullName+"</td></tr>";
                        var markup2 = "<li>"+abbreviation+"</li>"
                        $("table #tbo").append(markup1);
                    });
                }
            },  
            error: function(xhr, textStatus, errorThrown) {  
                console.log('Error in Database');  

            }  
        }); 

    }); 


    var b;
    // function dropdownoption(){
        $(document).ready(function () {
	// myContract.methods.show_last_record_id().call(function(er,result){
        $.ajax({
            type: 'GET',

            url: 'https://cricketapi.platform.iplt20.com/teams',  
        // CHANGE THIS URL ACCORDING TO YOUR REQUIREMENT.
            
            dataType: 'json',

            success: function(data1, textStatus, xhr) {
              for(var i = 0;i<b['content'].length;i++){
                var abbreviation = b['content'][i]['abbreviation'];
		            $("#dropdownState").append('<option>'+abbreviation+' </option>');		
	}	
            }
		
})
})
// }

function fun() {
    alert("hello")
    var k = document.getElementById('url').value;
    var j;
    alert(k.toString())
if('CSK' === k)
{
j=1
}
if('DEC' === k)
{
j=2
}
if('DC' === k)
{
j=3
}
if('KXIP' === k)
{
j=4
}
if('KKR'=== k)
{
j=5
}
if('MI' === k)
{
j=6
}
if('PWI' === k)
{
j=7
}
if('RR' === k)
{
j=8
}
if('RCB' === k)
{
j=9
}
if('KTK' === k)
{
j=10
}

   // $(document).ready(function() {  
        // for(var i=1;i<=10;i++){
        //     var d =i;
        //     console.log(d);
            
            $.ajax({  
            url: 'https://cricketapi.platform.iplt20.com/stats/players?teamIds= '+j+'&tournamentIds=10192&scope=TOURNAMENT&pageSize=30',
           
            type: 'GET',  
              
            dataType: 'json',  
       
            success: function(data1, textStatus, xhr) {  
              
                console.log(data1);  
                var team=data1['team']['fullName']
               var  a=data1['stats']['content'];
               console.log(team);
               console.log(a);
              
                for(var i = 0;i<a.length;i++){
                
                
                    // var  a=data1['stats']['content'];
                   $(".add").ready(function(){
                       var id = a[i]['player']['id'];
                        var fullName = a[i]['player']['fullName'];
                        var Nationality=a[i]['player']['nationality'];
                        var dateOfBirth = a[i]['player']['dateOfBirth'];
                        var markup = "<tr><td>"+id+"</td><td>" + fullName + "</td><td>"+  dateOfBirth  + "</td><td>"+ Nationality +"</td><td>"+ team +"</td></tr>";
                        $("table #kings").append(markup);
                    });
                }
            },  
            error: function(xhr, textStatus, errorThrown) {  
                console.log('Error in Database');  

            }  
        }); 
    
        // }



    // })
}


var b;
    $(document).ready(function () {

        // THE TOP (HEADER) LIST ITEM.
        var li = $('<li/>')
            .appendTo('#menu');

        $('<a />')
            .text('Team')
            .attr('href', '#')
            .appendTo(li);     // ADD THE TOP LIST TO THE HEADER (<ul>).

        // CREATE THE SUB <ul>.
        var abbreviation = $('<ul/>')
            .appendTo(li);

        // EXTRACT XML DATA.
        $.ajax({
            type: 'GET',

            url: 'https://cricketapi.platform.iplt20.com/teams',  
        // CHANGE THIS URL ACCORDING TO YOUR REQUIREMENT.
            
            dataType: 'json',

            success: function(data1, textStatus, xhr) {
                // $(xml).find('List').each(function () {
                    

                    console.log(data1);
                    var abbreviation = b['content'][0]['abbreviation'];
                    console.log(b['content'][0]['abbreviation']);
                    $("#menu").append('<ul><li>'+abbreviation+'</li></ul>')
                    // CREATE AND ADD SUB LIST ITEMS.
                    var abbreviation = $('<li/>')
                        .appendTo(abbreviation);

                    title = $(this).find(b['content'][0]['abbreviation']);

                    $('<a />')
                        .text(title)
                        // .attr('href', 'https://www.encodedna.com')
                        .appendTo(abbreviation);
                // });
            }
        });
    });
</script>
</html>